{"version":3,"sources":["firebase/config.js","firebase/firebase.js","components/Header.jsx","components/AddTransaction.jsx","components/Balance.jsx","components/IncomeExpense.jsx","components/Transaction.jsx","components/TransactionTable.jsx","components/About.jsx","App.jsx","index.jsx"],"names":["config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","apps","length","initializeApp","Header","className","to","AddTransaction","state","name","amount","onChange","e","setState","target","value","onSubmit","preventDefault","props","addTransaction","id","this","htmlFor","type","placeholder","Component","Balance","total","transactions","map","t","reduce","sum","sign","Math","abs","IncomeExpense","amounts","transaction","income","filter","item","expense","console","log","Transaction","date_str","date","TransactionTable","key","onClick","clearTransactions","About","src","alt","App","loadData","firestore","collection","doc","onSnapshot","loadJsonData","axios","get","then","res","data","validateForm","isNaN","window","alert","t_date","Date","getDate","getMonth","getYear","newTransaction","v4","unshift","add","confirm","querySnapshot","forEach","ref","delete","push","exact","path","render","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.317cdfe0.chunk.js","sourcesContent":["const config = {\r\n    apiKey: process.env.REACT_APP_APIKEY,\r\n    authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n    databaseURL: process.env.REACT_APP_DATABASEURL,\r\n    projectId: process.env.REACT_APP_PROJECTID,\r\n    storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\r\n    appId: process.env.REACT_APP_APPID,\r\n    measurementId: process.env.REACT_APP_MEASUREMENTID\r\n  }\r\n\r\nexport default config\r\n\r\n\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/firestore'\r\nimport 'firebase/storage'\r\nimport config from './config'\r\n \r\nif (!firebase.apps.length) {\r\n   firebase.initializeApp(config)\r\n}\r\n \r\nexport default firebase","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div>\r\n      <h1 className=\"display-4 text-center\">\r\n        <Link to=\"/about\">\r\n          <i className=\"fas fa-dollar-sign text-primary\"></i> My <span className=\"text-primary\">Expenses</span>\r\n        </Link>\r\n      </h1>\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\n\r\nexport default class AddTransaction extends Component {\r\n  \r\n  state = {\r\n    name:'',\r\n    amount:''\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState( { [e.target.name]: e.target.value } );\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.addTransaction(this.state.name, this.state.amount);\r\n    this.setState( { name:'', amount:'' });\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div>\r\n        <form id=\"add-transaction_form\" onSubmit={this.onSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">Transaction Name:</label>\r\n            <input \r\n              type=\"text\" \r\n              name=\"name\" \r\n              className=\"form-control\" \r\n              placeholder=\"Expense detail ...\"\r\n              onChange={this.onChange}\r\n              value={this.state.name}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"amount\">Amount (+:income / -:expense)</label>\r\n            <input \r\n              type=\"number\" \r\n              name=\"amount\" \r\n              className=\"form-control\" \r\n              placeholder=\"0.00\"\r\n              onChange={this.onChange} \r\n              value={this.state.amount}\r\n            />\r\n          </div>\r\n\r\n          <input type=\"submit\" value=\"Add Transaction\" className=\"btn btn-primary btn-block\"/>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Balance(props) {\r\n  const transactions = props.transactions;\r\n  const amounts = transactions.map( t => t.amount);\r\n  const total = amounts.reduce( (sum,amount) => (sum+=amount), 0);\r\n\r\n  let sign = total<0 ? '-':'+';\r\n  if (total===0) {\r\n    sign = ''\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mt-5 text-center\">\r\n      <h4>Your Balance</h4>\r\n      <h1 id=\"balance\">{sign}฿{Math.abs(total)}</h1>\r\n    </div>\r\n\r\n    // <div className=\"container mt-5 text-center\">\r\n    //   <h4>Your Balance</h4>\r\n    //   <h1 id=\"balance\">+฿6550</h1>\r\n    // </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function IncomeExpense(props) {\r\n\r\n  const transactions = props.transactions;\r\n\r\n  const amounts = transactions.map( transaction => transaction.amount);\r\n  const income = amounts\r\n    .filter( item => item>0)\r\n    .reduce ( (sum, item) => (sum += item),0);\r\n\r\n  const expense = -1 * amounts\r\n    .filter( item => item<0)\r\n    .reduce ( (sum, item) => (sum += item),0);\r\n\r\n  console.log(income+\", \"+expense);\r\n\r\n  return (\r\n    <div className=\"inc-exp-container\">\r\n      <div>\r\n        <h4>Income</h4>\r\n        <p className=\"money plus\">฿{income}</p>\r\n      </div>\r\n      <div>\r\n        <h4>Expense</h4>\r\n        <p className=\"money minus\">฿{expense}</p>\r\n      </div>\r\n    </div>\r\n\r\n    // <div className=\"inc-exp-container\">\r\n    //   <div>\r\n    //     <h4>Income</h4>\r\n    //     <p className=\"money plus\">฿8000</p>\r\n    //   </div>\r\n    //   <div>\r\n    //     <h4>Expense</h4>\r\n    //     <p className=\"money minus\">฿1450</p>\r\n    //   </div>\r\n    // </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Transaction extends Component {\r\n  render() {\r\n    // const monthNames = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\r\n    //                   \"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\r\n    //const { name,amount,date_str } = this.props.transaction;\r\n    const name = this.props.transaction.name;\r\n    const amount = this.props.transaction.amount;\r\n    const date_str = this.props.transaction.date;\r\n\r\n    console.log(date_str)\r\n    // const t_date = new Date(date);\r\n    // const date_str = t_date.getDate()+' '+monthNames[t_date.getMonth()]+' '+(t_date.getYear()+1900);\r\n\r\n    return (  \r\n      <tr className={amount<0?'minus':'plus'}>\r\n        <td>{ name }</td>\r\n        <td>{ amount }</td>\r\n        <td>{ amount<0?'expense':'income' }</td>\r\n        <td>{ date_str }</td>\r\n      </tr>\r\n\r\n      // <tr>\r\n      //   <td>Transaction Name</td>\r\n      //   <td>-500</td>\r\n      //   <td>expense</td>\r\n      //   <td>2 Mar 2020</td>\r\n      // </tr>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nimport Transaction from './Transaction';\r\n\r\nexport default function TransactionTable(props) {\r\n\r\n  const transactions = props.transactions;\r\n\r\n  return (\r\n    <div>\r\n      <div><h3>Transaction History</h3></div>\r\n      <table className=\"table table-striped mt-3\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Amount</th>\r\n            <th>Type</th>\r\n            <th>Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody id=\"transaction-list\">\r\n        {\r\n          transactions.map ( transaction => (\r\n            <Transaction  key={transaction.id} \r\n                          transaction={transaction} />\r\n          ))\r\n        }\r\n        </tbody>\r\n      </table>\r\n      <button \r\n        id=\"clear-history\" \r\n        className=\"btn btn-danger btn-block\"\r\n        onClick={props.clearTransactions}>Clear History</button>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function About() {\r\n  return (\r\n    <div>\r\n      <div className=\"container mt-5\">\r\n        <div className=\"card\">\r\n          <img src=\"https://tittaya.github.io/Profile/image/20190911_224730.jpg\" className='card-img-top' alt=\"...\" />\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">Developer information</h5>\r\n            <p>Tittaya Jitpang (610610579)</p>\r\n            <p>This app use Google Firebase as backend.</p>\r\n            <Link to=\"/\">\r\n              <h3>\r\n                <button type=\"button\" className=\"btn btn-primary\">Home</button>\r\n              </h3>\r\n            </Link>\r\n          </div>\r\n\r\n        </div>\r\n        \r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react';\r\nimport {v4} from 'uuid';\r\nimport axios from 'axios';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport firebase from 'D:/lab8-expenses/src/firebase/firebase.js'\r\n\r\nimport Header from './components/Header';\r\nimport AddTransaction from './components/AddTransaction';\r\nimport Balance from './components/Balance';\r\nimport IncomeExpense from './components/IncomeExpense';\r\nimport TransactionTable from './components/TransactionTable';\r\nimport About from './components/About';\r\n\r\nimport './App.css';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    transactions: []\r\n  }\r\n\r\n  loadData = () => {\r\n    // get data from variable\r\n    firebase.firestore().collection('data').doc('doc').collection('expenses')\r\n    .onSnapshot(item => {\r\n      this.setState({\r\n        transactions: item,\r\n      })\r\n    })\r\n  }\r\n\r\n  loadJsonData = () => {\r\n    // get data from json file: \"public/static/data.json\"\r\n    axios.get('/static/data.json')\r\n      .then( res => {\r\n        const data = res.data;\r\n        this.setState( { transactions: data } );\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.loadData();   // load data from variable\r\n    //this.loadJsonData();  // load data from JSON file on server\r\n    //this.loadFirebase(); // load data from Firebase\r\n    firebase.firestore().collection('data').doc('doc').collection('expenses')\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      let transactions = []\r\n      querySnapshot.forEach((doc) => {\r\n        transactions.push(doc.data())\r\n      })\r\n      this.setState({transactions})\r\n    })\r\n\r\n  }\r\n\r\n  validateForm = (name,amount) => {\r\n    if (!name || !amount) {\r\n      window.alert('Please fill in ALL data fields.');\r\n      return false;\r\n    } else if ( !isNaN(name)) {\r\n      window.alert('Please fill only TEXT detail in transaction name.');\r\n      return false;\r\n    } else if (+amount === 0) {\r\n      window.alert('Amount CANNOT be zero!');\r\n      return false;\r\n    }\r\n  \r\n    return true;\r\n  }\r\n\r\n  addTransaction = (name,amount) => {\r\n\r\n    if(!this.validateForm(name,amount)) {\r\n      return false;\r\n    }\r\n    const monthNames = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\r\n                      \"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\r\n    const t_date = new Date();\r\n    const date_str = t_date.getDate()+' '+monthNames[t_date.getMonth()]+' '+(t_date.getYear()+1900);\r\n    const newTransaction = {\r\n      id: v4(),\r\n      name: name,\r\n      amount: +amount,\r\n      date: date_str\r\n    }\r\n\r\n    this.state.transactions.unshift(newTransaction);\r\n    this.setState( { transactions: this.state.transactions } );\r\n    firebase.firestore().collection('data').doc('doc').collection('expenses').add(newTransaction);\r\n  }\r\n\r\n  clearTransactions = () => {\r\n    let ans = window.confirm(\"You are going to clear all transaction history!!!\")\r\n    if (ans) {\r\n      this.setState( { transactions: [] } );\r\n        firebase.firestore().collection('data').doc('doc').collection('expenses')\r\n       .get()\r\n       .then((querySnapshot) => {\r\n         querySnapshot.forEach((doc) => {\r\n           doc.ref.delete()\r\n         })\r\n       })\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n      <div className=\"container mt-4 mb-5\">\r\n        <Header />\r\n\r\n        <Route exact path=\"/\" render={ props => (\r\n          <div>\r\n          <AddTransaction addTransaction={this.addTransaction} />\r\n          <Balance transactions={this.state.transactions}/>\r\n          <IncomeExpense transactions={this.state.transactions}/>\r\n          <TransactionTable \r\n              transactions={this.state.transactions} \r\n              clearTransactions={this.clearTransactions} />\r\n          </div>\r\n        )} />\r\n          \r\n        <Route path=\"/about\" component={About} />        \r\n      </div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}